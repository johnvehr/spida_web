{"ast":null,"code":"import _objectSpread from \"/Users/johnvehr/Builder/kuuik/octoe_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/johnvehr/Builder/kuuik/octoe_web/src/pages/hub/project.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport * as projectActions from \"../../redux/actions/projectActions\";\nimport * as taskActions from \"../../redux/actions/taskActions\";\nimport { bindActionCreators } from 'redux';\nimport TaskDrawerAdd from './taskDrawerAdd';\nimport TaskDrawerDetails from './taskDrawerDetails';\nimport PopoverNode from './popoverNode';\nimport ProjectHeader from './projectHeader';\nimport ProjectStatistic from './projectStatistic';\nimport ProjectGram from './projectGram';\nimport ProjectGramBig from './projectGramBig';\nimport classnames from \"classnames\";\nimport { Badge, Card, CardBody, CardHeader, CardImg, CardTitle, Col, Container, DropdownItem, DropdownMenu, DropdownToggle, ListGroup, ListGroupItem, Row, UncontrolledDropdown, Nav, NavItem, NavLink, TabContent, TabPane } from \"reactstrap\";\nimport { MoreHorizontal } from \"react-feather\";\nimport avatar1 from \"../../assets/img/avatars/avatar.jpg\";\nimport avatar2 from \"../../assets/img/avatars/avatar-2.jpg\";\nimport avatar3 from \"../../assets/img/avatars/avatar-3.jpg\";\nimport { Calendar, Filter, RefreshCw } from \"react-feather\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { Tooltip, Popover, Popconfirm, Message, Button, Drawer, Form, Input, Item, Icon, Menu, Progress } from 'antd';\nimport { Group } from '@vx/group';\nimport { Tree } from '@vx/hierarchy';\nimport { LinearGradient } from '@vx/gradient';\nimport { Zoom } from '@vx/zoom';\nimport { localPoint } from '@vx/event';\nimport { scaleLinear } from '@vx/scale';\nimport { hierarchy } from 'd3-hierarchy';\nimport { pointRadial } from 'd3-shape';\nimport { RectClipPath } from '@vx/clip-path';\nimport { LinkHorizontal, LinkVertical, LinkRadial, LinkHorizontalStep, LinkVerticalStep, LinkRadialStep, LinkHorizontalCurve, LinkVerticalCurve, LinkRadialCurve, LinkHorizontalLine, LinkVerticalLine, LinkRadialLine } from '@vx/shape'; //import Viewer from 'react-drag-n-zoom'\n\nconst TextArea = Input.TextArea;\n\nclass Project extends React.Component {\n  constructor() {\n    super();\n\n    this.newDueType = e => {\n      this.setState({\n        task: _objectSpread({}, this.state.task, {\n          due_type: e.target.value\n        })\n      });\n    };\n\n    this.newtaskChange = input => e => {\n      const name = e.target.name;\n      this.setState({\n        task: _objectSpread({}, this.state.task, {\n          [name]: e.target.value\n        })\n      });\n      console.log(this.state.task);\n    };\n\n    this.showDrawer = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.onClose = () => {\n      this.setState({\n        visible: false,\n        new_task: false\n      });\n    };\n\n    this._deleteTaskFromParent = task => {\n      this.props.actions.deleteTaskFromParent(task);\n    };\n\n    this._addTaskToParent = (node, type) => {\n      let client_task_params = [this.props.match.params, node.data.id, type, this.state.task];\n      this.props.actions.addTaskToParent(client_task_params, this.props.account.subdomain);\n    };\n\n    this.retrieveTask = (id, action, type) => {\n      const api_type = type;\n\n      if (action == 'details') {\n        this.setState({\n          task: id.data\n        });\n      } else {\n        this.setState({\n          parent: id.data.id,\n          new_task: true,\n          type: api_type\n        });\n      } //this.showDrawer()\n\n    };\n\n    this.changeTranslate = (e, zoom, node) => {\n      console.log(node); //const point = localPoint(e)\n      //const point = {x: -434.39004605833225, y: 500 / 2}\n      //console.log(point)\n      //console.log(point)\n\n      const inv = zoom.applyInverseToPoint({\n        x: 1000 / 2,\n        y: 500 / 2\n      });\n      console.log(inv); //zoom.setTranslate({translateX: 1000 / 2, translateY: 500 / 2})\n      //zoom.scale({scaleX: 1.1, scaleY: 1.1})\n      //-434.39004605833225 x\n      //4.164458423229405 y\n\n      console.log(zoom); //  zoom.scale({scaleX: 1.1, scaleY: 1.1, point})\n    };\n\n    this.state = {\n      activeTab: \"1\",\n      layout: 'cartesian',\n      orientation: 'horizontal',\n      linkType: 'diagonal',\n      stepPercent: 0.5,\n      parent: '',\n      type: '',\n      project_id: '',\n      task: {\n        task_title: '',\n        task_desc: '',\n        status: '',\n        priority: '',\n        assigned_to: '',\n        created_by: '',\n        due_type: ''\n      },\n      new_task: false,\n      initialTransform: {\n        scaleX: 1.27,\n        scaleY: 1.27,\n        translateX: -211.62,\n        translateY: 162.59,\n        skewX: 0,\n        skewY: 0\n      }\n    };\n    this.retrieveTask = this.retrieveTask.bind(this);\n    this.newtaskChange = this.newtaskChange.bind(this);\n    this.newPriority = this.newPriority.bind(this);\n    this.newStatus = this.newStatus.bind(this);\n    this.changeTranslate = this.changeTranslate.bind(this);\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle(tab) {\n    if (this.state.activeTab !== tab) {\n      this.setState({\n        activeTab: tab\n      });\n    }\n  }\n\n  componentDidMount() {\n    console.log(\"called did mount\");\n    const project_id = this.props.match.params;\n    this.props.actions.retrieveProject(project_id, this.props.match.params.subdomain);\n  }\n\n  newAssignTo(value) {\n    this.setState({\n      task: _objectSpread({}, this.state.task, {\n        assigned_to: value\n      })\n    });\n  }\n\n  newPriority(value) {\n    const new_priority = parseInt(value, 10);\n    this.setState({\n      task: _objectSpread({}, this.state.task, {\n        priority: new_priority\n      })\n    });\n  }\n\n  newStatus(value) {\n    const new_status = parseInt(value, 10);\n    this.setState({\n      task: _objectSpread({}, this.state.task, {\n        status: new_status\n      })\n    });\n  }\n\n  render() {\n    console.log(this.props.account);\n    console.log(this.props.account_users);\n    const _this$props = this.props,\n          name = _this$props.name,\n          className = _this$props.className;\n    const _this$props2 = this.props,\n          _this$props2$width = _this$props2.width,\n          width = _this$props2$width === void 0 ? 1200 : _this$props2$width,\n          _this$props2$height = _this$props2.height,\n          height = _this$props2$height === void 0 ? 400 : _this$props2$height,\n          _this$props2$margin = _this$props2.margin,\n          margin = _this$props2$margin === void 0 ? {\n      top: 10,\n      left: 10,\n      right: 10,\n      bottom: 10\n    } : _this$props2$margin;\n\n    if (this.props.project_status && !this.props.fetched_tasks) {\n      this.props.actions.projectTasks(this.props.project.id, this.props.account.subdomain);\n    }\n\n    const data = this.props.tasks;\n    const _this$state = this.state,\n          layout = _this$state.layout,\n          orientation = _this$state.orientation,\n          linkType = _this$state.linkType,\n          stepPercent = _this$state.stepPercent;\n    const innerWidth = width - margin.left - margin.right;\n    const innerHeight = height - margin.top - margin.bottom;\n    let origin;\n    let sizeWidth;\n    let sizeHeight;\n    let task_drawer;\n\n    switch (this.state.new_task) {\n      case false:\n        task_drawer = React.createElement(TaskDrawerDetails, {\n          task_details: this.state.task,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308\n          },\n          __self: this\n        });\n        break;\n\n      case true:\n        task_drawer = React.createElement(TaskDrawerAdd, {\n          task_details: this.state.task,\n          newtaskChange: this.newtaskChange,\n          addTaskToParent: this._addTaskToParent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 311\n          },\n          __self: this\n        });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(Container, {\n      fluid: true,\n      className: \"p-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, React.createElement(ProjectHeader, {\n      props: this.props,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"tab \" + className,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      tabs: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      className: classnames({\n        active: this.state.activeTab === \"1\"\n      }),\n      onClick: () => {\n        this.toggle(\"1\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, \"Spida View\")), React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      className: classnames({\n        active: this.state.activeTab === \"2\"\n      }),\n      onClick: () => {\n        this.toggle(\"2\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, \"Control Tower\")), React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      className: classnames({\n        active: this.state.activeTab === \"3\"\n      }),\n      onClick: () => {\n        this.toggle(\"3\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, \"Storage\")), React.createElement(NavItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      className: classnames({\n        active: this.state.activeTab === \"4\"\n      }),\n      onClick: () => {\n        this.toggle(\"4\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, \"Team\"))), React.createElement(TabContent, {\n      activeTab: this.state.activeTab,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }, React.createElement(TabPane, {\n      tabId: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    }, React.createElement(ProjectGramBig, {\n      data: data,\n      state: this.state,\n      props: this.props,\n      project: this.props.project,\n      retrieveTask: this.retrieveTask,\n      deleteTask: this._deleteTaskFromParent,\n      task_details: this.state.task,\n      newtaskChange: this.newtaskChange,\n      newDueType: this.newDueType,\n      newAssignTo: this.newAssignTo,\n      newPriority: this.newPriority,\n      newStatus: this.newStatus,\n      addTaskToParent: this._addTaskToParent,\n      account_users: this.props.account_users,\n      project_team_members: this.props.project_team_members,\n      changeTranslate: this.changeTranslate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    })), React.createElement(TabPane, {\n      tabId: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, React.createElement(ProjectStatistic, {\n      props: this.props,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: \"8\",\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, React.createElement(ProjectGram, {\n      data: data,\n      state: this.state,\n      props: this.props,\n      project: this.props.project,\n      retrieveTask: this.retrieveTask,\n      deleteTask: this._deleteTaskFromParent,\n      task_details: this.state.task,\n      newDueType: this.newDueType,\n      newAssignTo: this.newAssignTo,\n      newtaskChange: this.newtaskChange,\n      newPriority: this.newPriority,\n      newStatus: this.newStatus,\n      addTaskToParent: this._addTaskToParent,\n      account_users: this.props.account_users,\n      project_team_members: this.props.project_team_members,\n      changeTranslate: this.changeTranslate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    })), React.createElement(Col, {\n      lg: \"4\",\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    })), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: \"6\",\n      xl: \"4\",\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    }), React.createElement(Col, {\n      lg: \"6\",\n      xl: \"4\",\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425\n      },\n      __self: this\n    }), React.createElement(Col, {\n      lg: \"6\",\n      xl: \"4\",\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428\n      },\n      __self: this\n    })), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: \"6\",\n      xl: \"8\",\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433\n      },\n      __self: this\n    }), React.createElement(Col, {\n      lg: \"6\",\n      xl: \"4\",\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436\n      },\n      __self: this\n    }))), React.createElement(TabPane, {\n      tabId: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"tab-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442\n      },\n      __self: this\n    }, \"Another one\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443\n      },\n      __self: this\n    }, \"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor tellus eget condimentum rhoncus. Aenean massa. Cum sociis natoque penatibus et magnis neque dis parturient montes, nascetur ridiculus mus.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449\n      },\n      __self: this\n    }, \"Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo.\")), React.createElement(TabPane, {\n      tabId: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"tab-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }, \"One more\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }, \"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor tellus eget condimentum rhoncus. Aenean massa. Cum sociis natoque penatibus et magnis neque dis parturient montes, nascetur ridiculus mus.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }, \"Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo.\")))), React.createElement(Drawer, {\n      title: this.state.task.task_title,\n      placement: \"right\",\n      closable: false,\n      width: 400,\n      onClose: this.onClose,\n      visible: this.state.visible,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474\n      },\n      __self: this\n    }, task_drawer)));\n  }\n\n}\n\nconst gatherTasks = task_state => {\n  console.log(task_state.children);\n  return task_state;\n};\n\nconst mapStateToProps = (state, props) => ({\n  account: state.user.account,\n  account_users: state.user.account_users,\n  project: state.project.project,\n  project_team_members: state.project.project_team_members,\n  project_status: state.project.project_status,\n  tasks: gatherTasks(Object.assign({}, state.task.tasks)),\n  fetched_tasks: state.task.fetched_tasks\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(_objectSpread({}, projectActions, {}, taskActions), dispatch)\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Project));","map":{"version":3,"sources":["/Users/johnvehr/Builder/kuuik/octoe_web/src/pages/hub/project.js"],"names":["React","connect","withRouter","Link","projectActions","taskActions","bindActionCreators","TaskDrawerAdd","TaskDrawerDetails","PopoverNode","ProjectHeader","ProjectStatistic","ProjectGram","ProjectGramBig","classnames","Badge","Card","CardBody","CardHeader","CardImg","CardTitle","Col","Container","DropdownItem","DropdownMenu","DropdownToggle","ListGroup","ListGroupItem","Row","UncontrolledDropdown","Nav","NavItem","NavLink","TabContent","TabPane","MoreHorizontal","avatar1","avatar2","avatar3","Calendar","Filter","RefreshCw","FontAwesomeIcon","faPlus","Tooltip","Popover","Popconfirm","Message","Button","Drawer","Form","Input","Item","Icon","Menu","Progress","Group","Tree","LinearGradient","Zoom","localPoint","scaleLinear","hierarchy","pointRadial","RectClipPath","LinkHorizontal","LinkVertical","LinkRadial","LinkHorizontalStep","LinkVerticalStep","LinkRadialStep","LinkHorizontalCurve","LinkVerticalCurve","LinkRadialCurve","LinkHorizontalLine","LinkVerticalLine","LinkRadialLine","TextArea","Project","Component","constructor","newDueType","e","setState","task","state","due_type","target","value","newtaskChange","input","name","console","log","showDrawer","visible","onClose","new_task","_deleteTaskFromParent","props","actions","deleteTaskFromParent","_addTaskToParent","node","type","client_task_params","match","params","data","id","addTaskToParent","account","subdomain","retrieveTask","action","api_type","parent","changeTranslate","zoom","inv","applyInverseToPoint","x","y","activeTab","layout","orientation","linkType","stepPercent","project_id","task_title","task_desc","status","priority","assigned_to","created_by","initialTransform","scaleX","scaleY","translateX","translateY","skewX","skewY","bind","newPriority","newStatus","toggle","tab","componentDidMount","retrieveProject","newAssignTo","new_priority","parseInt","new_status","render","account_users","className","width","height","margin","top","left","right","bottom","project_status","fetched_tasks","projectTasks","project","tasks","innerWidth","innerHeight","origin","sizeWidth","sizeHeight","task_drawer","active","project_team_members","gatherTasks","task_state","children","mapStateToProps","user","Object","assign","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {connect} from \"react-redux\"\nimport {withRouter,Link} from \"react-router-dom\"\nimport * as projectActions from \"../../redux/actions/projectActions\"\nimport * as taskActions from \"../../redux/actions/taskActions\"\nimport {bindActionCreators} from 'redux';\n\nimport TaskDrawerAdd from './taskDrawerAdd'\nimport TaskDrawerDetails from './taskDrawerDetails'\nimport PopoverNode from './popoverNode'\nimport ProjectHeader from './projectHeader'\nimport ProjectStatistic from './projectStatistic'\nimport ProjectGram from './projectGram'\nimport ProjectGramBig from './projectGramBig'\nimport classnames from \"classnames\";\nimport {\n  Badge,\n  Card,\n  CardBody,\n  CardHeader,\n  CardImg,\n  CardTitle,\n  Col,\n  Container,\n  DropdownItem,\n  DropdownMenu,\n  DropdownToggle,\n  ListGroup,\n  ListGroupItem,\n  Row,\n  UncontrolledDropdown,\n  Nav,\n  NavItem,\n  NavLink,\n  TabContent,\n  TabPane\n} from \"reactstrap\";\n\nimport { MoreHorizontal } from \"react-feather\";\n\nimport avatar1 from \"../../assets/img/avatars/avatar.jpg\";\nimport avatar2 from \"../../assets/img/avatars/avatar-2.jpg\";\nimport avatar3 from \"../../assets/img/avatars/avatar-3.jpg\";\nimport { Calendar, Filter, RefreshCw } from \"react-feather\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport {\n  Tooltip,\n  Popover,\n  Popconfirm,\n  Message,\n  Button,\n  Drawer,\n  Form,\n  Input,\n  Item,\n  Icon,\n  Menu,\n  Progress\n} from 'antd'\nimport { Group } from '@vx/group';\nimport { Tree } from '@vx/hierarchy';\nimport { LinearGradient } from '@vx/gradient';\nimport {Zoom} from '@vx/zoom'\nimport {localPoint} from '@vx/event'\nimport {scaleLinear} from '@vx/scale'\nimport { hierarchy } from 'd3-hierarchy';\nimport { pointRadial } from 'd3-shape';\nimport { RectClipPath } from '@vx/clip-path';\nimport {\n  LinkHorizontal,\n  LinkVertical,\n  LinkRadial,\n  LinkHorizontalStep,\n  LinkVerticalStep,\n  LinkRadialStep,\n  LinkHorizontalCurve,\n  LinkVerticalCurve,\n  LinkRadialCurve,\n  LinkHorizontalLine,\n  LinkVerticalLine,\n  LinkRadialLine\n} from '@vx/shape';\n//import Viewer from 'react-drag-n-zoom'\n\n\nconst {TextArea} = Input\n\nclass Project extends React.Component {\n  constructor(){\n    super()\n    this.state = {\n      activeTab: \"1\",\n      layout: 'cartesian',\n      orientation: 'horizontal',\n      linkType: 'diagonal',\n      stepPercent: 0.5,\n      parent: '',\n      type: '',\n      project_id: '',\n      task: {\n        task_title: '',\n        task_desc: '',\n        status: '',\n        priority: '',\n        assigned_to: '',\n        created_by: '',\n        due_type: '',\n      },\n      new_task:false,\n      initialTransform: {\n        scaleX: 1.27,\n        scaleY: 1.27,\n        translateX: -211.62,\n        translateY: 162.59,\n        skewX: 0,\n        skewY: 0\n      }\n    };\n    this.retrieveTask = this.retrieveTask.bind(this)\n    this.newtaskChange = this.newtaskChange.bind(this)\n    this.newPriority = this.newPriority.bind(this)\n    this.newStatus = this.newStatus.bind(this)\n    this.changeTranslate = this.changeTranslate.bind(this)\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle(tab) {\n    if (this.state.activeTab !== tab) {\n      this.setState({\n        activeTab: tab\n      });\n    }\n  }\n\n  componentDidMount() {\n    console.log(\"called did mount\")\n    const project_id = this.props.match.params\n    this.props.actions.retrieveProject(project_id,this.props.match.params.subdomain)\n  }\n\n  newAssignTo (value){\n    this.setState({\n      task: {\n        ...this.state.task,\n        assigned_to: value\n      }\n    })\n  }\n\n  newPriority (value){\n    const new_priority = parseInt(value,10)\n    this.setState({\n      task: {\n        ...this.state.task,\n        priority: new_priority\n      }\n    })\n\n  }\n\n  newStatus (value){\n    const new_status = parseInt(value,10)\n    this.setState({\n      task: {\n        ...this.state.task,\n        status: new_status\n      }\n    })\n\n  }\n\n  newDueType = e => {\n\n    this.setState({\n      task: {\n        ...this.state.task,\n        due_type: e.target.value\n      }\n    })\n  }\n\n  newtaskChange = input => e => {\n    const name = e.target.name\n    this.setState({\n      task: {\n        ...this.state.task,\n        [name]: e.target.value\n      }\n    })\n    console.log(this.state.task)\n  }\n\n  showDrawer = () => {\n    this.setState({\n      visible: true\n    })\n  }\n\n  onClose = () => {\n    this.setState({\n      visible: false,\n      new_task: false\n    })\n  }\n\n  _deleteTaskFromParent = (task) => {\n    this.props.actions.deleteTaskFromParent(task)\n  }\n\n  _addTaskToParent = (node,type) => {\n\n    let client_task_params = [\n      this.props.match.params,\n      node.data.id,\n      type,\n      this.state.task\n    ]\n    this.props.actions.addTaskToParent(client_task_params, this.props.account.subdomain)\n  }\n\n/*\n  _addTaskToParent = (e) => {\n    e.preventDefault()\n    let client_task_params = [\n      this.props.match.params,\n      this.state.parent,\n      this.state.type,\n      this.state.task\n    ]\n    this.props.actions.addTaskToParent(client_task_params, this.props.account.subdomain)\n    this.setState({\n      task: {\n        task_title: '',\n        task_desc: ''\n      }\n    })\n  }\n*/\n  retrieveTask = (id,action,type) => {\n    const api_type = type\n    if(action == 'details'){\n      this.setState({\n        task: id.data\n      })\n    }else {\n      this.setState({\n        parent: id.data.id,\n        new_task: true,\n        type: api_type\n      })\n    }\n    //this.showDrawer()\n  }\n\n  changeTranslate = (e,zoom,node) => {\n    console.log(node)\n    //const point = localPoint(e)\n    //const point = {x: -434.39004605833225, y: 500 / 2}\n    //console.log(point)\n    //console.log(point)\n    const inv = zoom.applyInverseToPoint({x: 1000 / 2, y: 500 / 2})\n    console.log(inv)\n    //zoom.setTranslate({translateX: 1000 / 2, translateY: 500 / 2})\n    //zoom.scale({scaleX: 1.1, scaleY: 1.1})\n  //-434.39004605833225 x\n  //4.164458423229405 y\n    console.log(zoom)\n  //  zoom.scale({scaleX: 1.1, scaleY: 1.1, point})\n\n  }\n\n  render() {\n    console.log(this.props.account)\n    console.log(this.props.account_users)\n\n    const { name, className } = this.props;\n    const {\n      width = 1200,\n      height = 400,\n      margin = {\n        top: 10,\n        left: 10,\n        right: 10,\n        bottom: 10\n      }\n    } = this.props;\n\n    if(this.props.project_status && !this.props.fetched_tasks){\n      this.props.actions.projectTasks(this.props.project.id,this.props.account.subdomain)\n    }\n\n    const data = this.props.tasks\n\n    const { layout, orientation, linkType, stepPercent } = this.state;\n\n    const innerWidth = width - margin.left - margin.right;\n    const innerHeight = height - margin.top - margin.bottom;\n\n\n    let origin;\n    let sizeWidth;\n    let sizeHeight;\n\n    let task_drawer\n    switch(this.state.new_task){\n      case false:\n        task_drawer = <TaskDrawerDetails task_details={this.state.task} />\n        break;\n      case true:\n        task_drawer = <TaskDrawerAdd\n                        task_details={this.state.task}\n                        newtaskChange={this.newtaskChange}\n                        addTaskToParent={this._addTaskToParent}\n                      />\n    }\n\n\n\n    return (\n      <div>\n      <Container fluid className=\"p-0\">\n        <ProjectHeader\n          props={this.props}\n        />\n      <div className={\"tab \" + className}>\n        <Nav tabs>\n          <NavItem>\n            <NavLink\n              className={classnames({ active: this.state.activeTab === \"1\" })}\n              onClick={() => {\n                this.toggle(\"1\");\n              }}\n            >\n              Spida View\n            </NavLink>\n          </NavItem>\n          <NavItem>\n            <NavLink\n              className={classnames({ active: this.state.activeTab === \"2\" })}\n              onClick={() => {\n                this.toggle(\"2\");\n              }}\n            >\n              Control Tower\n            </NavLink>\n          </NavItem>\n          <NavItem>\n            <NavLink\n              className={classnames({ active: this.state.activeTab === \"3\" })}\n              onClick={() => {\n                this.toggle(\"3\");\n              }}\n            >\n              Storage\n            </NavLink>\n          </NavItem>\n          <NavItem>\n            <NavLink\n              className={classnames({ active: this.state.activeTab === \"4\" })}\n              onClick={() => {\n                this.toggle(\"4\");\n              }}\n            >\n              Team\n            </NavLink>\n          </NavItem>\n        </Nav>\n        <TabContent activeTab={this.state.activeTab}>\n        <TabPane tabId=\"1\">\n\n          <ProjectGramBig\n            data={data}\n            state={this.state}\n            props={this.props}\n            project={this.props.project}\n            retrieveTask={this.retrieveTask}\n            deleteTask={this._deleteTaskFromParent}\n            task_details={this.state.task}\n            newtaskChange={this.newtaskChange}\n            newDueType={this.newDueType}\n            newAssignTo={this.newAssignTo}\n            newPriority={this.newPriority}\n            newStatus={this.newStatus}\n            addTaskToParent={this._addTaskToParent}\n            account_users={this.props.account_users}\n            project_team_members={this.props.project_team_members}\n            changeTranslate={this.changeTranslate}\n          />\n\n        </TabPane>\n          <TabPane tabId=\"2\">\n          <ProjectStatistic\n            props={this.props}\n          />\n        <Row>\n          <Col lg=\"8\" className=\"d-flex\">\n            <ProjectGram\n              data={data}\n              state={this.state}\n              props={this.props}\n              project={this.props.project}\n              retrieveTask={this.retrieveTask}\n              deleteTask={this._deleteTaskFromParent}\n              task_details={this.state.task}\n              newDueType={this.newDueType}\n              newAssignTo={this.newAssignTo}\n              newtaskChange={this.newtaskChange}\n              newPriority={this.newPriority}\n              newStatus={this.newStatus}\n              addTaskToParent={this._addTaskToParent}\n              account_users={this.props.account_users}\n              project_team_members={this.props.project_team_members}\n              changeTranslate={this.changeTranslate}\n            />\n          </Col>\n          <Col lg=\"4\" className=\"d-flex\">\n\n          </Col>\n        </Row>\n        <Row>\n          <Col lg=\"6\" xl=\"4\" className=\"d-flex\">\n\n          </Col>\n          <Col lg=\"6\" xl=\"4\" className=\"d-flex\">\n\n          </Col>\n          <Col lg=\"6\" xl=\"4\" className=\"d-flex\">\n\n          </Col>\n        </Row>\n        <Row>\n          <Col lg=\"6\" xl=\"8\" className=\"d-flex\">\n\n          </Col>\n          <Col lg=\"6\" xl=\"4\" className=\"d-flex\">\n\n          </Col>\n        </Row>\n          </TabPane>\n          <TabPane tabId=\"3\">\n            <h4 className=\"tab-title\">Another one</h4>\n            <p>\n              Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean\n              commodo ligula eget dolor tellus eget condimentum rhoncus. Aenean\n              massa. Cum sociis natoque penatibus et magnis neque dis parturient\n              montes, nascetur ridiculus mus.\n            </p>\n            <p>\n              Donec quam felis, ultricies nec, pellentesque eu, pretium quis,\n              sem. Nulla consequat massa quis enim. Donec pede justo, fringilla\n              vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut,\n              imperdiet a, venenatis vitae, justo.\n            </p>\n          </TabPane>\n          <TabPane tabId=\"4\">\n            <h4 className=\"tab-title\">One more</h4>\n            <p>\n              Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean\n              commodo ligula eget dolor tellus eget condimentum rhoncus. Aenean\n              massa. Cum sociis natoque penatibus et magnis neque dis parturient\n              montes, nascetur ridiculus mus.\n            </p>\n            <p>\n              Donec quam felis, ultricies nec, pellentesque eu, pretium quis,\n              sem. Nulla consequat massa quis enim. Donec pede justo, fringilla\n              vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut,\n              imperdiet a, venenatis vitae, justo.\n            </p>\n          </TabPane>\n        </TabContent>\n      </div>\n\n      <Drawer\n        title={this.state.task.task_title}\n        placement=\"right\"\n        closable={false}\n        width={400}\n        onClose={this.onClose}\n        visible={this.state.visible}\n        >\n        {task_drawer}\n      </Drawer>\n\n\n  </Container>\n\n\n\n\n\n      </div>\n    );\n  }\n}\n\n\nconst gatherTasks = (task_state) => {\n  console.log(task_state.children)\n  return task_state\n}\n\nconst mapStateToProps = (state, props) => ({\n  account: state.user.account,\n  account_users: state.user.account_users,\n  project: state.project.project,\n  project_team_members: state.project.project_team_members,\n  project_status: state.project.project_status,\n  tasks: gatherTasks(Object.assign({},state.task.tasks)),\n  fetched_tasks: state.task.fetched_tasks\n  }\n)\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators({...projectActions,...taskActions}, dispatch)\n  };\n}\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(Project)\n)\n"]},"metadata":{},"sourceType":"module"}