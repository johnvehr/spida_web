{"ast":null,"code":"import _slicedToArray from \"/Users/johnvehr/Builder/kuuik/octoe_web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nclass Auth {\n  /*\n    static  authenticateToken(token){\n      sessionStorage.setItem('token', token)\n    }\n     static isUserAuthenticated(){\n      return sessionStorage.getItem('token') !== null\n    }\n     static deauthenticateUser(){\n      sessionStorage.removeItem('token')\n    }\n     static getToken(){\n      return sessionStorage.getItem('token')\n    }\n  */\n  static authenticateToken(ptth_cred) {\n    for (var http of ptth_cred.payload.headers.entries()) {\n      sessionStorage.setItem(`${http[0]}`, `${http[1]}`);\n    }\n  }\n\n  static isUserAuthenticated() {\n    return sessionStorage.getItem('access-token') !== null;\n  }\n\n  static deauthenticateUser(ptth_cred_delete) {\n    for (var http of ptth_cred_delete.headers.entries()) {\n      sessionStorage.removeItem(`${http[0]}`);\n    }\n  }\n\n  static fetchToken() {\n    let client_ptth_cred = {}; //getToken and isUserAuth is honestly doing the same thing we should evaluate this\n\n    for (let _ref of Object.entries(sessionStorage)) {\n      var _ref2 = _slicedToArray(_ref, 2);\n\n      let key = _ref2[0];\n      let value = _ref2[1];\n      client_ptth_cred[`${key}`] = `${value}`;\n    }\n\n    return client_ptth_cred;\n  }\n\n  static processHead(ers, action) {\n    switch (action) {\n      case 'SIGN_UP':\n      case 'SIGN_IN':\n        this.authenticateToken(ers);\n        break;\n\n      case 'SIGN_OUT':\n        this.deauthenticateUser(ers);\n    }\n  }\n\n}\n\nexport default Auth;","map":{"version":3,"sources":["/Users/johnvehr/Builder/kuuik/octoe_web/src/auth.js"],"names":["Auth","authenticateToken","ptth_cred","http","payload","headers","entries","sessionStorage","setItem","isUserAuthenticated","getItem","deauthenticateUser","ptth_cred_delete","removeItem","fetchToken","client_ptth_cred","Object","key","value","processHead","ers","action"],"mappings":";;AAAA,MAAMA,IAAN,CAAW;AAET;;;;;;;;;;;;;;AAoBA,SAAOC,iBAAP,CAAyBC,SAAzB,EAAmC;AACjC,SAAI,IAAIC,IAAR,IAAgBD,SAAS,CAACE,OAAV,CAAkBC,OAAlB,CAA0BC,OAA1B,EAAhB,EAAoD;AAClDC,MAAAA,cAAc,CAACC,OAAf,CAAwB,GAAEL,IAAI,CAAC,CAAD,CAAI,EAAlC,EAAsC,GAAEA,IAAI,CAAC,CAAD,CAAI,EAAhD;AACD;AACF;;AAED,SAAOM,mBAAP,GAA4B;AAC1B,WAAOF,cAAc,CAACG,OAAf,CAAuB,cAAvB,MAA2C,IAAlD;AACD;;AAED,SAAOC,kBAAP,CAA0BC,gBAA1B,EAA2C;AACzC,SAAI,IAAIT,IAAR,IAAgBS,gBAAgB,CAACP,OAAjB,CAAyBC,OAAzB,EAAhB,EAAmD;AACjDC,MAAAA,cAAc,CAACM,UAAf,CAA2B,GAAEV,IAAI,CAAC,CAAD,CAAI,EAArC;AACD;AACF;;AAED,SAAOW,UAAP,GAAmB;AACjB,QAAIC,gBAAgB,GAAG,EAAvB,CADiB,CAEjB;;AACA,qBAAyBC,MAAM,CAACV,OAAP,CAAeC,cAAf,CAAzB,EAAyD;AAAA;;AAAA,UAA/CU,GAA+C;AAAA,UAA1CC,KAA0C;AACvDH,MAAAA,gBAAgB,CAAE,GAAEE,GAAI,EAAR,CAAhB,GAA8B,GAAEC,KAAM,EAAtC;AACD;;AACD,WAAOH,gBAAP;AACD;;AAED,SAAOI,WAAP,CAAmBC,GAAnB,EAAuBC,MAAvB,EAA+B;AAC7B,YAAOA,MAAP;AACE,WAAK,SAAL;AACA,WAAK,SAAL;AACC,aAAKpB,iBAAL,CAAuBmB,GAAvB;AACD;;AACA,WAAK,UAAL;AACC,aAAKT,kBAAL,CAAwBS,GAAxB;AANH;AAQD;;AAxDQ;;AA6DX,eAAepB,IAAf","sourcesContent":["class Auth {\n\n  /*\n    static  authenticateToken(token){\n      sessionStorage.setItem('token', token)\n    }\n\n    static isUserAuthenticated(){\n      return sessionStorage.getItem('token') !== null\n    }\n\n    static deauthenticateUser(){\n      sessionStorage.removeItem('token')\n    }\n\n    static getToken(){\n      return sessionStorage.getItem('token')\n    }\n  */\n\n\n\n  static authenticateToken(ptth_cred){\n    for(var http of ptth_cred.payload.headers.entries()){\n      sessionStorage.setItem(`${http[0]}`, `${http[1]}`)\n    }\n  }\n\n  static isUserAuthenticated(){\n    return sessionStorage.getItem('access-token') !== null\n  }\n\n  static deauthenticateUser(ptth_cred_delete){\n    for(var http of ptth_cred_delete.headers.entries()){\n      sessionStorage.removeItem(`${http[0]}`)\n    }\n  }\n\n  static fetchToken(){\n    let client_ptth_cred = {}\n    //getToken and isUserAuth is honestly doing the same thing we should evaluate this\n    for (let [key, value] of Object.entries(sessionStorage)) {\n      client_ptth_cred[`${key}`] = `${value}`;\n    }\n    return client_ptth_cred\n  }\n\n  static processHead(ers,action) {\n    switch(action){\n      case 'SIGN_UP':\n      case 'SIGN_IN':\n       this.authenticateToken(ers)\n      break;\n      case 'SIGN_OUT':\n       this.deauthenticateUser(ers)\n    }\n  }\n\n\n}\n\nexport default Auth\n"]},"metadata":{},"sourceType":"module"}