{"ast":null,"code":"var _jsxFileName = \"/Users/johnvehr/Builder/kuuik/octoe_web/src/pages/auth/SignUp.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport * as userActions from \"../../redux/actions/userActions\";\nimport { bindActionCreators } from 'redux';\nimport Spin from './spinner';\nimport AOS from 'aos';\nimport 'aos/dist/aos.css';\nimport { Button, Card, CardBody } from \"reactstrap\";\nimport { Form, Icon, Input, Item, notification } from \"antd\";\nimport Illu from \"../../assets/img/photos/illustration-3.png\";\nimport CreateSubdomain from \"./createSubdomain\";\nimport CreateEmailPassword from \"./createEmailPassword\";\nimport PickSubscription from \"./pickSubscription\";\n\nclass SignUp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.signUpChange = input => e => {\n      const name = e.target.name;\n      this.setState({\n        [name]: e.target.value\n      });\n      console.log(this.state.subdomain);\n    };\n\n    this.nextStep = e => {\n      e.preventDefault();\n      this.setState({\n        approved_subdomain: true\n      });\n    };\n\n    this.submitSignUp = (e, sub_type) => {\n      e.preventDefault();\n      const userParams = {\n        email: this.state.email,\n        password: this.state.password,\n        full_name: this.state.full_name,\n        origin: this.state.origin,\n        'account_attributes': {\n          subdomain: this.state.subdomain\n        }\n      };\n      this.redirectResponse = this.redirectResponse.bind(this);\n      this.props.actions.signUp(userParams, sub_type, this.redirectResponse);\n    };\n\n    this.state = {\n      approved_subdomain: false,\n      subdomain: '',\n      email: '',\n      password: '',\n      full_name: '',\n      origin: 0,\n      sub_step: 0,\n      subscription_type: 0\n    };\n    this.signUpChange = this.signUpChange.bind(this);\n    this.nextStep = this.nextStep.bind(this);\n    this.pickSubscription = this.pickSubscription.bind(this);\n  }\n\n  componentDidMount() {//  window.location.hostname = \"localhost\"\n  }\n\n  redirectResponse(res) {\n    this.props.history.push(`/${this.state.subdomain}/welcome`);\n  }\n\n  pickSubscription() {\n    this.setState({\n      sub_step: 1\n    });\n  }\n\n  render() {\n    let sign_up_step;\n\n    switch (this.state.approved_subdomain) {\n      case false:\n        sign_up_step = React.createElement(CreateSubdomain, {\n          signUpChange: this.signUpChange,\n          subdomain: this.state.subdomain,\n          nextStep: this.nextStep,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        });\n        break;\n\n      case true:\n        switch (this.state.sub_step) {\n          case 0:\n            sign_up_step = React.createElement(CreateEmailPassword, {\n              signUpChange: this.signUpChange,\n              subdomain: this.state.subdomain,\n              email: this.state.email,\n              password: this.state.password,\n              full_name: this.state.full_name,\n              pickSubscription: this.pickSubscription,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 102\n              },\n              __self: this\n            });\n            break;\n\n          case 1:\n            sign_up_step = React.createElement(PickSubscription, {\n              pick_a_subscription: this.pick_a_subscription,\n              subscription_type: this.subscription_type,\n              submitSignUp: this.submitSignUp,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 105\n              },\n              __self: this\n            });\n            break;\n        }\n\n    }\n\n    AOS.init();\n    if (this.props.pending) return React.createElement(Spin, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    });\n    return React.createElement(\"section\", {\n      class: \"section-border border-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container d-flex flex-column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row align-items-center justify-content-center no-gutters min-vh-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, sign_up_step)));\n  }\n\n}\n\nconst mapStateToProps = (state, props) => ({\n  user: state.user.user,\n  pending: state.user.pending,\n  error: state.user.error\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(userActions, dispatch)\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(SignUp));","map":{"version":3,"sources":["/Users/johnvehr/Builder/kuuik/octoe_web/src/pages/auth/SignUp.js"],"names":["React","Link","connect","withRouter","userActions","bindActionCreators","Spin","AOS","Button","Card","CardBody","Form","Icon","Input","Item","notification","Illu","CreateSubdomain","CreateEmailPassword","PickSubscription","SignUp","Component","constructor","props","signUpChange","input","e","name","target","setState","value","console","log","state","subdomain","nextStep","preventDefault","approved_subdomain","submitSignUp","sub_type","userParams","email","password","full_name","origin","redirectResponse","bind","actions","signUp","sub_step","subscription_type","pickSubscription","componentDidMount","res","history","push","render","sign_up_step","pick_a_subscription","init","pending","mapStateToProps","user","error","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAO,KAAKC,WAAZ,MAA6B,iCAA7B;AACA,SAAQC,kBAAR,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAO,kBAAP;AACA,SACEC,MADF,EAEEC,IAFF,EAGEC,QAHF,QAIO,YAJP;AAKA,SACEC,IADF,EAEEC,IAFF,EAGEC,KAHF,EAIEC,IAJF,EAKEC,YALF,QAMO,MANP;AAOA,OAAOC,IAAP,MAAiB,4CAAjB;AAEA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;;AAEA,MAAMC,MAAN,SAAqBpB,KAAK,CAACqB,SAA3B,CAAqC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;;AADgB,SAqBlBC,YArBkB,GAqBHC,KAAK,IAAIC,CAAC,IAAI;AAC3B,YAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASD,IAAtB;AACA,WAAKE,QAAL,CAAc;AACZ,SAACF,IAAD,GAAQD,CAAC,CAACE,MAAF,CAASE;AADL,OAAd;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWC,SAAvB;AACD,KA3BiB;;AAAA,SA6BlBC,QA7BkB,GA6BNT,CAAD,IAAO;AAChBA,MAAAA,CAAC,CAACU,cAAF;AACA,WAAKP,QAAL,CAAc;AACZQ,QAAAA,kBAAkB,EAAE;AADR,OAAd;AAGD,KAlCiB;;AAAA,SAgDlBC,YAhDkB,GAgDH,CAACZ,CAAD,EAAGa,QAAH,KAAgB;AAC7Bb,MAAAA,CAAC,CAACU,cAAF;AACA,YAAMI,UAAU,GAAG;AACjBC,QAAAA,KAAK,EAAE,KAAKR,KAAL,CAAWQ,KADD;AAEjBC,QAAAA,QAAQ,EAAE,KAAKT,KAAL,CAAWS,QAFJ;AAGjBC,QAAAA,SAAS,EAAE,KAAKV,KAAL,CAAWU,SAHL;AAIjBC,QAAAA,MAAM,EAAE,KAAKX,KAAL,CAAWW,MAJF;AAKjB,8BAAsB;AACpBV,UAAAA,SAAS,EAAE,KAAKD,KAAL,CAAWC;AADF;AALL,OAAnB;AASA,WAAKW,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAAxB;AACA,WAAKvB,KAAL,CAAWwB,OAAX,CAAmBC,MAAnB,CAA0BR,UAA1B,EAAsCD,QAAtC,EAAgD,KAAKM,gBAArD;AACD,KA7DiB;;AAEhB,SAAKZ,KAAL,GAAY;AACVI,MAAAA,kBAAkB,EAAE,KADV;AAEVH,MAAAA,SAAS,EAAE,EAFD;AAGVO,MAAAA,KAAK,EAAE,EAHG;AAIVC,MAAAA,QAAQ,EAAE,EAJA;AAKVC,MAAAA,SAAS,EAAE,EALD;AAMVC,MAAAA,MAAM,EAAE,CANE;AAOVK,MAAAA,QAAQ,EAAE,CAPA;AAQVC,MAAAA,iBAAiB,EAAE;AART,KAAZ;AAUA,SAAK1B,YAAL,GAAoB,KAAKA,YAAL,CAAkBsB,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKX,QAAL,GAAgB,KAAKA,QAAL,CAAcW,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKK,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBL,IAAtB,CAA2B,IAA3B,CAAxB;AACD;;AAEDM,EAAAA,iBAAiB,GAAE,CACnB;AACC;;AAiBDP,EAAAA,gBAAgB,CAACQ,GAAD,EAAK;AACnB,SAAK9B,KAAL,CAAW+B,OAAX,CAAmBC,IAAnB,CAAyB,IAAG,KAAKtB,KAAL,CAAWC,SAAU,UAAjD;AACD;;AAEDiB,EAAAA,gBAAgB,GAAE;AAChB,SAAKtB,QAAL,CAAc;AACZoB,MAAAA,QAAQ,EAAE;AADE,KAAd;AAGD;;AAmBDO,EAAAA,MAAM,GAAE;AAEN,QAAIC,YAAJ;;AACA,YAAO,KAAKxB,KAAL,CAAWI,kBAAlB;AACE,WAAK,KAAL;AACEoB,QAAAA,YAAY,GAAG,oBAAC,eAAD;AAAiB,UAAA,YAAY,EAAE,KAAKjC,YAApC;AAAmD,UAAA,SAAS,EAAE,KAAKS,KAAL,CAAWC,SAAzE;AAAoF,UAAA,QAAQ,EAAE,KAAKC,QAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAf;AACF;;AACA,WAAK,IAAL;AACE,gBAAO,KAAKF,KAAL,CAAWgB,QAAlB;AACE,eAAK,CAAL;AACAQ,YAAAA,YAAY,GAAG,oBAAC,mBAAD;AAAqB,cAAA,YAAY,EAAE,KAAKjC,YAAxC;AAAsD,cAAA,SAAS,EAAE,KAAKS,KAAL,CAAWC,SAA5E;AAAuF,cAAA,KAAK,EAAE,KAAKD,KAAL,CAAWQ,KAAzG;AAAgH,cAAA,QAAQ,EAAE,KAAKR,KAAL,CAAWS,QAArI;AAA+I,cAAA,SAAS,EAAE,KAAKT,KAAL,CAAWU,SAArK;AAAgL,cAAA,gBAAgB,EAAE,KAAKQ,gBAAvM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAf;AACA;;AACA,eAAK,CAAL;AACAM,YAAAA,YAAY,GAAG,oBAAC,gBAAD;AAAkB,cAAA,mBAAmB,EAAE,KAAKC,mBAA5C;AAAiE,cAAA,iBAAiB,EAAE,KAAKR,iBAAzF;AAA4G,cAAA,YAAY,EAAE,KAAKZ,YAA/H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAf;AACA;AANF;;AALJ;;AAeA/B,IAAAA,GAAG,CAACoD,IAAJ;AACA,QAAG,KAAKpC,KAAL,CAAWqC,OAAd,EAAuB,OAAO,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACvB,WACE;AAAS,MAAA,KAAK,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,KAAK,EAAC,8BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAC,qEAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGH,YADH,CADF,CADA,CADF;AASD;;AA7FkC;;AAiGrC,MAAMI,eAAe,GAAG,CAAC5B,KAAD,EAAQV,KAAR,MAAmB;AACzCuC,EAAAA,IAAI,EAAE7B,KAAK,CAAC6B,IAAN,CAAWA,IADwB;AAEzCF,EAAAA,OAAO,EAAE3B,KAAK,CAAC6B,IAAN,CAAWF,OAFqB;AAGzCG,EAAAA,KAAK,EAAE9B,KAAK,CAAC6B,IAAN,CAAWC;AAHuB,CAAnB,CAAxB;;AAMA,SAASC,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAO;AACLlB,IAAAA,OAAO,EAAE1C,kBAAkB,CAACD,WAAD,EAAc6D,QAAd;AADtB,GAAP;AAGD;;AAED,eAAe9D,UAAU,CACvBD,OAAO,CACL2D,eADK,EAELG,kBAFK,CAAP,CAGE5C,MAHF,CADuB,CAAzB","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport * as userActions from \"../../redux/actions/userActions\"\r\nimport {bindActionCreators} from 'redux';\r\nimport Spin from './spinner'\r\nimport AOS from 'aos'\r\nimport 'aos/dist/aos.css';\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n} from \"reactstrap\";\r\nimport {\r\n  Form,\r\n  Icon,\r\n  Input,\r\n  Item,\r\n  notification\r\n} from \"antd\"\r\nimport Illu from \"../../assets/img/photos/illustration-3.png\";\r\n\r\nimport CreateSubdomain from \"./createSubdomain\"\r\nimport CreateEmailPassword from \"./createEmailPassword\"\r\nimport PickSubscription from \"./pickSubscription\"\r\n\r\nclass SignUp extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state ={\r\n      approved_subdomain: false,\r\n      subdomain: '',\r\n      email: '',\r\n      password: '',\r\n      full_name: '',\r\n      origin: 0,\r\n      sub_step: 0,\r\n      subscription_type: 0\r\n    }\r\n    this.signUpChange = this.signUpChange.bind(this)\r\n    this.nextStep = this.nextStep.bind(this)\r\n    this.pickSubscription = this.pickSubscription.bind(this)\r\n  }\r\n\r\n  componentDidMount(){\r\n  //  window.location.hostname = \"localhost\"\r\n  }\r\n\r\n  signUpChange = input => e => {\r\n    const name = e.target.name\r\n    this.setState({\r\n      [name]: e.target.value\r\n    })\r\n    console.log(this.state.subdomain)\r\n  }\r\n\r\n  nextStep = (e) => {\r\n    e.preventDefault()\r\n    this.setState({\r\n      approved_subdomain: true\r\n    })\r\n  }\r\n\r\n  redirectResponse(res){\r\n    this.props.history.push(`/${this.state.subdomain}/welcome`)\r\n  }\r\n\r\n  pickSubscription(){\r\n    this.setState({\r\n      sub_step: 1\r\n    })\r\n  }\r\n\r\n\r\n\r\n  submitSignUp = (e,sub_type) => {\r\n    e.preventDefault()\r\n    const userParams = {\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n      full_name: this.state.full_name,\r\n      origin: this.state.origin,\r\n      'account_attributes': {\r\n        subdomain: this.state.subdomain\r\n      }\r\n    }\r\n    this.redirectResponse = this.redirectResponse.bind(this)\r\n    this.props.actions.signUp(userParams, sub_type, this.redirectResponse)\r\n  }\r\n\r\n  render(){\r\n\r\n    let sign_up_step\r\n    switch(this.state.approved_subdomain){\r\n      case false:\r\n        sign_up_step = <CreateSubdomain signUpChange={this.signUpChange}  subdomain={this.state.subdomain} nextStep={this.nextStep} />\r\n      break;\r\n      case true:\r\n        switch(this.state.sub_step){\r\n          case 0:\r\n          sign_up_step = <CreateEmailPassword signUpChange={this.signUpChange} subdomain={this.state.subdomain} email={this.state.email} password={this.state.password} full_name={this.state.full_name} pickSubscription={this.pickSubscription} />\r\n          break\r\n          case 1:\r\n          sign_up_step = <PickSubscription pick_a_subscription={this.pick_a_subscription} subscription_type={this.subscription_type} submitSignUp={this.submitSignUp}/>\r\n          break\r\n        }\r\n\r\n    }\r\n    AOS.init()\r\n    if(this.props.pending) return <Spin />\r\n    return(\r\n      <section class=\"section-border border-primary\">\r\n      <div class=\"container d-flex flex-column\">\r\n        <div class=\"row align-items-center justify-content-center no-gutters min-vh-100\">\r\n          {sign_up_step}\r\n        </div>\r\n      </div>\r\n    </section>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n  user: state.user.user,\r\n  pending: state.user.pending,\r\n  error: state.user.error\r\n});\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators(userActions, dispatch)\r\n  };\r\n}\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(SignUp)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}